<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Cleaning Tool</title>
</head>
<body>
    <h1>CSV Data Cleaning Tool</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.as_p }}
        <label><input type="checkbox" name="merge"> Merge uploaded CSV files</label><br>
        <label>Keep only the header of the first file: 
            <select name="keep_first_header_only">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label><br>
        <label>Remove duplicate rows:
            <select name="remove_duplicate_rows">
                <option value="No">No</option>
                <option value="Yes">Yes</option>
            </select>
        </label><br>
        <label>Remove empty rows:
            <select name="remove_empty_rows">
                <option value="Yes">Yes</option>
                <option value="No">No</option>
            </select>
        </label><br>
        <button type="submit">Upload and Process</button>
    </form>

    {% if dataframes %}
        <h2>Processed Data:</h2>
        {% for df in dataframes %}
            <h3>DataFrame {{ forloop.counter }}</h3>
            <table border="1">
                {% for row in df.iterrows %}
                    <tr>
                        {% for cell in row[1] %}
                            <td>{{ cell }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </table>
        {% endfor %}
    {% endif %}
</body>
</html>
